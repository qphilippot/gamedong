<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>MAP - Test</title>
    <style>
      .gd-viewport {
        background: red;
      }
    </style>
  </head>
  <body>
    <main id='gd-main-viewport'></main>
    <img id='test-id'>
    <script>
      var page = {};
        document.addEventListener('DOMContentLoaded', function() {
            console.log('page is ready', window.GameDong);

            page.viewport = new GameDong.ViewPort({
              container: 'gd-main-viewport'
            });

            page.map = new GameDong.Map({
              nbRows: 10,
              nbColumns: 10
            });

            page.gameElt = new GameDong.GameElement();
            window.tile = new Image();
            window.tile.src = GameDong.AssetManager.get('tile');
            window.tile.onload = () => {
              console.log("tile =", window.tile);

              document.getElementById('test-id').src = GameDong.AssetManager.get('tile');
              page.gameElt.setTexture(window.tile);
              page.gameElt.render(page.viewport.getContext(), 0, 0, 10, 10);
              page.viewport.register(page.map, 0, 0, 20, 20);
            }
        });
    </script>

  </body>
</html>